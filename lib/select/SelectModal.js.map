{"version":3,"sources":["../../dev/mtui/select/SelectModal.jsx"],"names":["SelectModal","props","state","cName","num","elem","e","target","value","obj","children","showOrHide","prevProps","prevState","show","self","setTimeout","setState","set","getPlace","modalStyle","height","left","top","width","style","display","modalWidth","MT_IE9","push","child","join","mid","map","index","clickOption","bind","Date"],"mappings":"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","file":"SelectModal.js","sourcesContent":["\r\nimport React,  { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { toArray } from '../utils/toArray';\r\nimport assign from '../utils/assign';\r\n\r\nclass SelectModal extends Component {\r\n\r\n    // 构造函数\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            cName: ''\r\n        };\r\n        this.num = 0;\r\n    }\r\n\r\n    // 选择option\r\n    clickOption(elem, e){\r\n        e.target.value = elem.props;\r\n        let obj = {\r\n            target: e.target\r\n        };\r\n        obj.target['value'] = elem.props.value;\r\n        obj.target['childrens'] = elem.props.children;\r\n        this.props.showOrHide(true, elem.props, null, obj);\r\n    }\r\n\r\n    // 设置值\r\n    componentDidUpdate(prevProps,  prevState) {\r\n        if(prevProps.show !== this.props.show){\r\n            let cName = ' mt-select-animate';\r\n            let self = this;\r\n            setTimeout(function(){\r\n                self.setState({\r\n                    cName: self.props.show ? cName : ''\r\n                });\r\n            }, 10);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let set = this.props.getPlace();\r\n        let modalStyle = this.props.modalStyle || {};\r\n        if(set){\r\n            var {height, left, top, width} = set;\r\n            var style = assign([{\r\n                display: this.props.show ? 'block' : 'none'\r\n            }, {\r\n                left: left, \r\n                top: top + height\r\n            }, {\r\n                width: this.props.modalWidth\r\n            }, {\r\n                height: 'auto'\r\n            }, modalStyle]);\r\n        }\r\n        var self = this;\r\n        var cName = ['mt-select', this.state.cName]; // mt-select-ie10\r\n\r\n        if(!MT_IE9){\r\n            cName.push('mt-select-ie10');\r\n        }\r\n\r\n        let child = toArray(this.props.children);\r\n\r\n        return <div className={cName.join(' ')} style={style} id={this.props.mid}>\r\n                    {\r\n                        child.map(function(elem,  index) {\r\n                            return <div onClick={self.clickOption.bind(self,  elem)} key={index + +new Date()} className=\"mt-select-option\">{elem.props.children}</div>;\r\n                        })\r\n                    }\r\n               </div>;\r\n    }\r\n}\r\n\r\n// 主页\r\nexport default SelectModal;"]}