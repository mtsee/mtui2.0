{"version":3,"sources":["../../dev/mtui/button/Button.jsx"],"names":["Button","props","state","inks","e","disabled","onClick","x","pageX","target","y","pageY","arr","tmp","Date","getTime","self","push","setState","window","applicationCache","refs","addEventListener","className","children","dom","style","type","size","block","prefix","suffix","htmlType","other","Dom","styles","width","clickEvent","bind","join","map","elem","index","left","top","defaultProps"],"mappings":"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","file":"Button.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { offsetLeft, offsetTop } from '../utils/offset';\r\nimport assign from '../utils/assign';\r\nimport { removeDom } from '../utils/dom';\r\n\r\nclass Button extends Component {\r\n    // 构造函数\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            inks: []\r\n        };\r\n    }\r\n\r\n    static defaultProps = {\r\n        size: null, // 默认 lg,sm,xs\r\n        type: 'default', // default,primary,success,info,warning,danger\r\n        block: false, // true\r\n        dom: 'a',\r\n        disabled: false,\r\n        prefix: null, // 前面的图标\r\n        suffix: null // 后面的图标\r\n    }\r\n\r\n    clickEvent(e) {\r\n\r\n        if (this.props.disabled) {\r\n            return;\r\n        }\r\n\r\n        if (this.props.onClick) {\r\n            this.props.onClick(e);\r\n        }\r\n\r\n        // 波纹\r\n        var x = e.pageX - offsetLeft(e.target);\r\n        var y = e.pageY - offsetTop(e.target);\r\n        var arr = this.state.inks;\r\n        var tmp = new Date().getTime();\r\n        var self = this;\r\n        arr.push({\r\n            x: x,\r\n            y: y,\r\n            tmp: tmp\r\n        });\r\n        this.setState({\r\n            inks: arr\r\n        }, function () {\r\n            if (window.applicationCache) { // 如果支持\r\n                self.refs['ink_' + tmp].addEventListener('webkitAnimationEnd', function () { // 动画结束时事件 \r\n                    removeDom(this);\r\n                }, false);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { className, children, dom, style, type, size, block, disabled, prefix, suffix, htmlType, onClick, ...other } = this.props;\r\n        let arr = ['mt-ink-reaction', 'mt-btn'];\r\n        let Dom = dom;\r\n\r\n        // 尺寸\r\n        if (size) {\r\n            arr.push('mt-btn-' + size);\r\n        }\r\n\r\n        // 按钮样式\r\n        if (type) {\r\n            arr.push('mt-btn-' + type);\r\n        } else {\r\n            arr.push('mt-btn-primary');\r\n        }\r\n\r\n        // block\r\n        if (block) {\r\n            arr.push('mt-btn-block');\r\n        }\r\n\r\n        // disabled\r\n        if (disabled) {\r\n            arr.push('mt-btn-disabled');\r\n        }\r\n\r\n        // className\r\n        if (className) {\r\n            arr.push(className);\r\n        }\r\n\r\n        if (prefix) {\r\n            arr.push('mt-button-prefix-out');\r\n        }\r\n\r\n        if (suffix) {\r\n            arr.push('mt-button-suffix-out');\r\n        }\r\n\r\n        if (htmlType) {\r\n            other['type'] = htmlType;\r\n        }\r\n\r\n        if (htmlType === 'submit') {\r\n            Dom = 'button';\r\n        }\r\n\r\n        let styles = style || {};\r\n        styles = assign([{\r\n            width: (htmlType === 'submit' && block) ? '100%' : ''\r\n        }, styles]);\r\n\r\n        return (\r\n            <Dom style={styles} onClick={this.clickEvent.bind(this)} {...other} className={arr.join(' ')}>\r\n                {prefix ? <span className=\"mt-button-prefix\">{prefix}</span> : null}\r\n                <span>{children}</span>\r\n                {suffix ? <span className=\"mt-button-suffix\">{suffix}</span> : null}\r\n                {\r\n                    this.state.inks.map(function (elem, index) {\r\n                        return <div style={{ left: elem.x, top: elem.y }} key={elem.tmp} ref={'ink_' + elem.tmp} className=\"mt-ink\"></div>;\r\n                    })\r\n                }\r\n            </Dom>\r\n        );\r\n    }\r\n}\r\n\r\n// 主页\r\nexport default Button;"]}