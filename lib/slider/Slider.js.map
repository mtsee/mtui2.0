{"version":3,"sources":["../../dev/mtui/slider/Slider.jsx"],"names":["Slider","props","state","barWidth","startX","oldWid","e","pageX","self","updo","document","removeEventListener","mouseMove","sliderEnd","getValue","minValue","wid","width","setState","onChange","addEventListener","val","maxValue","defaultValue","sliderStart","size","className","other","cName","push","join","onMouseDown","bind","defaultProps"],"mappings":"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","file":"Slider.js","sourcesContent":["\r\nimport React, { Component } from 'react';\r\n\r\nclass Slider extends Component {\r\n\r\n    static defaultProps = {\r\n        size: 'nm', // lg , nm, sm, xs 大 ，正常，小，超小\r\n        maxValue: 100,\r\n        minValue: 0,\r\n        width: 100\r\n    }\r\n\r\n    // 构造函数\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            barWidth: 0\r\n        };\r\n        this.startX = 0;\r\n        this.oldWid = 0;\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        this.startX = e.pageX;\r\n        this.oldWid = this.state.barWidth;\r\n\r\n        let self = this;\r\n        let updo = function (e) {\r\n            document.removeEventListener('mousemove', mouseMove);\r\n            document.removeEventListener('mouseup', updo);\r\n\r\n            if (self.props.sliderEnd) {\r\n                self.props.sliderEnd(self.getValue() + self.props.minValue);\r\n            }\r\n\r\n        };\r\n\r\n        // 鼠标移动\r\n        let mouseMove = function (e) {\r\n            let wid = self.oldWid + e.pageX - self.startX;\r\n\r\n            if (wid > self.props.width) {\r\n                wid = self.props.width;\r\n            } else if (wid < 0) {\r\n                wid = 0;\r\n            }\r\n            if (wid <= self.props.width && wid >= 0) {\r\n                self.setState({\r\n                    barWidth: wid\r\n                }, function () {\r\n                    if (self.props.onChange) {\r\n                        self.props.onChange(self.getValue() + self.props.minValue)\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousemove', mouseMove);\r\n        document.addEventListener('mouseup', updo);\r\n    }\r\n\r\n    // 获取当前值\r\n    getValue() {\r\n        let val = (this.state.barWidth / this.props.width) * (this.props.maxValue - this.props.minValue)\r\n        return val;\r\n    }\r\n\r\n    componentWillMount() {\r\n        let val = this.props.defaultValue / (this.props.maxValue + this.props.minValue) * this.props.width;\r\n        if (this.props.sliderStart) {\r\n            this.props.sliderStart(this.props.defaultValue);\r\n        }\r\n        this.setState({\r\n            barWidth: val\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { size, className, maxValue, minValue, width, onChange, sliderEnd, ...other } = this.props;\r\n        let cName = ['mt-slider', 'clearfix'];\r\n        if (className) {\r\n            cName.push(className);\r\n        }\r\n        if (size) {\r\n            cName.push('mt-slider-' + size);\r\n        }\r\n        return (\r\n            <div {...other} style={{ width: width }} className={cName.join(' ')}>\r\n                <div className=\"mt-slider-bar\" style={{ width: this.state.barWidth }}>\r\n                    <a onMouseDown={this.onMouseDown.bind(this)} className=\"mt-slider-btn\"></a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//主页\r\nexport default Slider;"]}