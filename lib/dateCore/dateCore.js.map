{"version":3,"sources":["../../dev/mtui/dateCore/dateCore.jsx"],"names":["getMDay","weekNumber","addAndDelOneMonth","addOrDelMonthDay","setHHMMSS","getDateNow","strToObj","objToStr","judgeDate","formatDate","fliterNum","setDatesDaysBg","setDays","setMonths","y","m","mday","Array","d","wk","i","Math","round","mark","parseInt","year","month","date","obj","maxday","day","hours","minutes","seconds","setArr","arr","max","push","toString","years","months","days","myDate","Date","getFullYear","getMonth","getDate","str","split","toDB","val","range","start","replace","end","now","data","format","yearLen","monthLen","dayLen","undefined","indexOf","match","length","console","error","substr","show","num","dates","startDate","endDate","firstWeek","monthDay","addone","type","active","delone","prevMonth","prevMonthDay","nowDate"],"mappings":"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","file":"dateCore.js","sourcesContent":["\r\n// 日历核心算法\r\n/**\r\n* @desc 给定年月获取当月天数\r\n* @param {number} y - 年\r\n* @param {number} m - 月\r\n* @return {number} num 当月天数\r\n*/\r\nexport function getMDay(y, m) {\r\n    var mday = new Array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);\r\n    if((y % 4 === 0 && y % 100 !== 0) || y % 400 === 0) {// 判断是否是闰月 \r\n        mday[1] = 29;\r\n    }\r\n    return mday[m - 1];\r\n}\r\n\r\n/**\r\n* @desc 获取星期数 \r\n* @param {number} y - 年\r\n* @param {number} m - 月\r\n* @param {number} d - 日\r\n* @return {number} wk - 当前的星期\r\n*/\r\nexport function weekNumber(y, m, d) {\r\n    var wk;\r\n    if (m <= 12 && m >= 1) {\r\n        for (var i = 1; i < m; ++i) {\r\n            d += getMDay(y, i);\r\n        }\r\n    }\r\n    /* 根据日期计算星期的公式 */\r\n    wk = (y - 1 + (y - 1) / 4 - (y - 1) / 100 + (y - 1) / 400 + d) % 7;\r\n    // console.log();\r\n    // 0对应星期天，1对应星期一 0，1，2，3，4，5，6\r\n    wk = Math.round(wk, 10);\r\n    // wk = (wk === 7 ? 0 : wk);\r\n    return Math.round(wk, 10);\r\n}\r\n\r\n/**\r\n* @desc 加，减一个月,返回对应的 y ，m\r\n* @param {string} y - 年\r\n* @param {string} m - 月\r\n* @param {string} mark - add 添加一个月， del 减一个月\r\n* @return {object} obj - 新的日期对象列表 {year, month}\r\n*/\r\nexport function addAndDelOneMonth(y, m, mark) {\r\n    y = parseInt(y, 10);\r\n    m = parseInt(m, 10);\r\n    // 加一个月\r\n    if (mark === 'add') {\r\n        if (m !== 12) {\r\n            m++;\r\n        } else {\r\n            m = 1;\r\n            y++;\r\n        }\r\n    } else if (mark === 'del') { // 减一个月\r\n        if (m !== 1) {\r\n            m--;\r\n        } else {\r\n            m = 12;\r\n            y--;\r\n        }\r\n    }\r\n    return {\r\n        year: y,\r\n        month: m\r\n    };\r\n}\r\n\r\n/**\r\n* @desc 加减一个月。y,m,d\r\n* @param {object} obj - 日期对象列表 {year, month, day}\r\n* @param {string} mark - add 添加一个月， del 减一个月\r\n* @return {object} obj - 新的日期对象列表\r\n*/\r\nexport function addOrDelMonthDay(date, mark) {\r\n    var obj = addAndDelOneMonth(date.year, date.month, mark);\r\n    var maxday = getMDay(obj.year, obj.month);\r\n    if (date.day > maxday) {\r\n        obj['day'] = maxday;\r\n    } else {\r\n        obj['day'] = date.day;\r\n    }\r\n    return obj;\r\n}\r\n\r\n/**\r\n* @desc 设置初始化的时，分，秒\r\n* @return {object} obj - 日期对象列表\r\n*/\r\nexport function setHHMMSS() {\r\n    var hours = [], minutes = [], seconds = [];\r\n    var setArr = function (arr, max) {\r\n        for (let i = 0; i < max; i++) {\r\n            if (i < 10) {\r\n                arr.push('0' + i);\r\n            } else {\r\n                arr.push(i.toString());\r\n            }\r\n        }\r\n    };\r\n    setArr(hours, 12);\r\n    setArr(minutes, 60);\r\n    setArr(seconds, 60);\r\n\r\n    setArr = null;\r\n\r\n    return {\r\n        years: [],\r\n        months: [],\r\n        days: [],\r\n        hours: hours,\r\n        minutes: minutes,\r\n        seconds: seconds\r\n    };\r\n}\r\n\r\n/**\r\n* @desc 获取当前时间\r\n* @return {object} obj - 日期对象 {year, month, day}\r\n*/\r\nexport function getDateNow() {\r\n    var myDate = new Date();\r\n    return {\r\n        year: myDate.getFullYear(),\r\n        month: 1 + parseInt(myDate.getMonth(), 10),\r\n        day: myDate.getDate()\r\n    };\r\n}\r\n\r\n/**\r\n* @desc 字符串格式 转换成 日期对象 xxxx-xx-xx to obj\r\n* @param {string} str - 日期范围格式 2017-02-12 如果 没有 day,month 使用 null 代替 eg: 2017-null-null\r\n* @return {object} obj - 日期对象 {year, month, day}\r\n*/\r\nexport function strToObj(str) {\r\n    var arr = str.split('-');\r\n    return {\r\n        year: parseInt(arr[0], 10) || null,\r\n        month: parseInt(arr[1], 10) || null,\r\n        day: parseInt(arr[2], 10) || null\r\n    };\r\n}\r\n\r\n/**\r\n* @desc 日期对象转换成 字符串格式 obj to xxxx-xx-xx\r\n* @param {object} obj - 日期对象 {year, month, day}\r\n* @return {string} str - 日期范围格式 2017-02-12 如果 没有 day,month 使用 null 代替 eg: 2017-null-null\r\n*/\r\nexport function objToStr(obj) {\r\n    var str = '';\r\n    var toDB = function (val) {\r\n        val = parseInt(val, 10);\r\n        if (val < 10) {\r\n            val = '0' + val;\r\n        } else {\r\n            val = '' + val;\r\n        }\r\n        return val;\r\n    };\r\n\r\n    if (obj.year) {\r\n        str += obj.year;\r\n    } else {\r\n        str += 'null';\r\n    }\r\n    if (obj.month) {\r\n        str += toDB(obj.month);\r\n    } else {\r\n        str += 'null';\r\n    }\r\n    if (obj.day) {\r\n        str += toDB(obj.day);\r\n    } else {\r\n        str += 'null';\r\n    }\r\n\r\n    toDB = null;\r\n\r\n    return str;\r\n}\r\n\r\n/**\r\n* @desc 判断日历的范围\r\n* @param {object} data - 日期对象 {year, month, day}\r\n* @param {string} range - 日期范围格式 2017-02-12,2017-07-03\r\n* @return {bool} 如果日期在范围里面。返回true,否则返回false\r\n*/\r\nexport function judgeDate(obj, range) {\r\n\r\n    // 如果没有范围\r\n    if (!range) {\r\n        return true;\r\n    }\r\n\r\n    range = range || ',';\r\n    let arr = range.split(',');\r\n    let start = parseInt(arr[0].replace(/-/g, ''), 10) || 0;\r\n    let end = parseInt(arr[1].replace(/-/g, ''), 10) || 0;\r\n\r\n    // 如果没有限制\r\n    if (start === 0 && end === 0) {\r\n        return true;\r\n    }\r\n    let now = parseInt(objToStr(obj).replace(/null/g, '00'), 10);\r\n    if (start === 0 && now <= end) {\r\n        return true;\r\n    }\r\n    if (end === 0 && now >= start) {\r\n        return true;\r\n    }\r\n    if (now <= end && now >= start) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n* @desc 格式化日历\r\n* @param {object} data - 日期对象 {year, month, day}\r\n* @param {string} format - 格式化样式 yyyy-mm-dd\r\n* @return {object} obj - \r\n    {\r\n        val: '2017-07-03',\r\n        show: {\r\n            year: true/false,\r\n            month: true/false,\r\n            day: true/false\r\n        }\r\n    }\r\n*/\r\nexport function formatDate(data, format) {\r\n    let val = null;\r\n    let yearLen, monthLen, dayLen;\r\n    if (format !== undefined && data) {\r\n\r\n        yearLen = (format.indexOf('y') === -1 ? 0 : format.match(/[y]/ig).length);\r\n        monthLen = (format.indexOf('m') === -1 ? 0 : format.match(/[m]/ig).length);\r\n        dayLen = (format.indexOf('d') === -1 ? 0 : format.match(/[d]/ig).length);\r\n\r\n        val = format;\r\n        if (yearLen > 4 || monthLen > 2 || dayLen > 2) {\r\n            console.error('format 格式错误，请参考 yyyy-mm-dd');\r\n            return;\r\n        }\r\n        let str = '';\r\n        for (let i = 0; i < yearLen; i++) {\r\n            str += 'y';\r\n        }\r\n        val = val.replace(str, function () {\r\n            data.year = data.year.toString();\r\n            return data.year.substr(data.year.length - yearLen, yearLen);\r\n        });\r\n\r\n        if (monthLen === 2) {\r\n            val = val.replace('mm', data.month < 10 ? '0' + data.month : data.month);\r\n        } else {\r\n            val = val.replace('m', data.month);\r\n        }\r\n        if (dayLen === 2) {\r\n            val = val.replace('dd', data.day < 10 ? '0' + data.day : data.day);\r\n        } else {\r\n            val = val.replace('d', data.day);\r\n        }\r\n    } else if (data) {\r\n        yearLen = 4;\r\n        monthLen = 2;\r\n        dayLen = 2;\r\n        val = data.year + '/' + data.month + '/' + data.day;\r\n    } else {\r\n        val = '';\r\n    }\r\n\r\n    return {\r\n        val: val,\r\n        show: {\r\n            year: !yearLen ? false : true,\r\n            month: !monthLen ? false : true,\r\n            day: !dayLen ? false : true\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n* @desc 1~9 前面加 0\r\n* @param {number} num - 传入一个数字，或者字符串的1~9\r\n* @return {string} num - 一个两位数的数字字符串\r\n*/\r\nexport function fliterNum(num) {\r\n    num = parseInt(num, 10);\r\n    if (num < 10) {\r\n        num = '0' + num;\r\n    } else {\r\n        num = num.toString();\r\n    }\r\n    return num;\r\n}\r\n\r\n/**\r\n* @desc 加工组合选择框，选择区间的底色\r\n* @param {object} obj - 传入一个选中的日期对象 {month, year, day}\r\n* @param {object} start - 传入一个开始日期 {month, year, day}\r\n* @param {object} end - 传入一个结束日期 {month, year, day}\r\n* @return {object} obj - 返回一个新的月份数组 添加 inner 和 start, end 参数，用于设置开始，结束，选中段的样式\r\n*/\r\nexport function setDatesDaysBg(obj, start, end) {\r\n    let now = parseInt(formatDate(obj, 'yyyymmdd').val, 10);\r\n    if (now >= start && now <= end) {\r\n        obj['inner'] = true;\r\n    }\r\n\r\n    if (now === start) {\r\n        obj['active'] = true;\r\n        obj['mark'] = 'start';\r\n    }\r\n    if (now === end) {\r\n        obj['active'] = true;\r\n        obj['mark'] = 'end';\r\n    }\r\n\r\n    return obj;\r\n}\r\n\r\n/**\r\n* @desc 设置days 的列表\r\n* @param {object} date - 传入一个选中的日期对象 {month, yeaar}\r\n* @param {object} dates - 传入一个开始和结束日期 {startDate, endDate}\r\n* @param {object} mark - true 表示日期段的选择\r\n* @return {array} arr - 返回一个新的月份数组 \r\n    {\r\n        day: '02',\r\n        month: '12',\r\n        year: '2017',\r\n        type: 'next/prev/now',\r\n        active: false/true\r\n    }\r\n*/\r\nexport function setDays(date, dates, mark) {\r\n\r\n    // 如果是日历组合的时候\r\n    let start, end;\r\n    if (dates) {\r\n        start = parseInt(formatDate(dates.startDate, 'yyyymmdd').val, 10);\r\n        end = parseInt(formatDate(dates.endDate, 'yyyymmdd').val, 10);\r\n    }\r\n\r\n    // 一共有6*7 = 42 个格子\r\n    let arr = [];\r\n    // 当月第一天周几\r\n    let firstWeek = weekNumber(date.year, date.month, 1);\r\n    // 当月有多少天\r\n    let monthDay = getMDay(date.year, date.month);\r\n\r\n    // 加一个月\r\n    let addone = addAndDelOneMonth(date.year, date.month, 'add');\r\n    if (firstWeek === 7) {\r\n        for (let i = 1; i <= 42; i++) {\r\n            if (i <= monthDay) {\r\n                let obj = {\r\n                    day: i,\r\n                    month: date.month,\r\n                    year: date.year,\r\n                    type: 'now',\r\n                    active: i === date.day ? true : false\r\n                };\r\n\r\n                // 日历组合,开始和结束的点都要设置 mt-dates-start or mt-dates-end\r\n                if (mark && i === date.day) {\r\n                    obj['mark'] = mark.split('_')[1];\r\n                }\r\n\r\n                if (mark) {\r\n                    // 加工组合选择框，选择区间的底色\r\n                    setDatesDaysBg(obj, start, end);\r\n                }\r\n\r\n                arr.push(obj);\r\n            } else {\r\n\r\n                let obj = {\r\n                    day: i - monthDay,\r\n                    month: addone.month,\r\n                    year: addone.year,\r\n                    type: 'next',\r\n                    active: false\r\n                };\r\n\r\n                if (mark) {\r\n                    // 加工组合选择框，选择区间的底色\r\n                    setDatesDaysBg(obj, start, end);\r\n                }\r\n\r\n                arr.push(obj);\r\n            }\r\n        }\r\n    } else {\r\n        // 减一个月\r\n        let delone = addAndDelOneMonth(date.year, date.month, 'del');\r\n        // 获取上个月的日期\r\n        let prevMonth = addAndDelOneMonth(date.year, date.month, 'del').month;\r\n        let prevMonthDay = getMDay(date.year, prevMonth);\r\n        for (let i = 1; i <= 42; i++) {\r\n            if (i <= firstWeek) {\r\n                let obj = {\r\n                    day: prevMonthDay - firstWeek + i,\r\n                    month: delone.month,\r\n                    year: delone.year,\r\n                    type: 'prev',\r\n                    active: false\r\n                };\r\n                if (mark) {\r\n                    // 加工组合选择框，选择区间的底色\r\n                    setDatesDaysBg(obj, start, end);\r\n                }\r\n                arr.push(obj);\r\n            } else if (i > firstWeek && i <= monthDay + firstWeek) {\r\n                let obj = {\r\n                    day: i - firstWeek,\r\n                    month: date.month,\r\n                    year: date.year,\r\n                    type: 'now',\r\n                    active: (i - firstWeek === date.day) ? true : false\r\n                };\r\n\r\n                // 日历组合\r\n                if (mark && (i - firstWeek === date.day)) {\r\n                    obj['mark'] = mark.split('_')[1];\r\n                }\r\n\r\n                if (mark) {\r\n                    // 加工组合选择框，选择区间的底色\r\n                    setDatesDaysBg(obj, start, end);\r\n                }\r\n\r\n                arr.push(obj);\r\n            } else {\r\n\r\n                let obj = {\r\n                    day: i - monthDay - firstWeek,\r\n                    month: addone.month,\r\n                    year: addone.year,\r\n                    type: 'next',\r\n                    active: false\r\n                };\r\n\r\n                if (mark) {\r\n                    // 加工组合选择框，选择区间的底色\r\n                    setDatesDaysBg(obj, start, end);\r\n                }\r\n\r\n                arr.push(obj);\r\n            }\r\n        }\r\n    }\r\n    return arr;\r\n}\r\n\r\n/**\r\n* @desc 设置month 显示列表\r\n* @param {object} nowDate - 传入一个日期对象 {month, yeaar}\r\n* @return {array} arr - 返回一个新的月份数组 {active, year, month}\r\n*/\r\nexport function setMonths(nowDate) {\r\n    let arr = [];\r\n    for (let i = 0; i < 12; i++) {\r\n        arr.push({\r\n            active: i + 1 === nowDate.month ? true : false,\r\n            year: nowDate.year,\r\n            month: i + 1\r\n        });\r\n    }\r\n    return arr;\r\n}\r\n\r\n// \r\n// export { getMDay, weekNumber, addAndDelOneMonth, addOrDelMonthDay, formatDate, getDateNow, fliterNum, setHHMMSS, setDays, setMonths, strToObj, objToStr, judgeDate };"]}