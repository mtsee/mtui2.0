{"version":3,"sources":["../../dev/mtui/collapse/Collapse.jsx"],"names":["CollapseItem","props","className","children","header","active","Itemclick","show","other","cName","push","join","bind","Collapse","state","self","arr","map","elem","index","setState","child","i","length","only","tmp","Date","getTime","defaultProps"],"mappings":"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","file":"Collapse.js","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport eventProxy from '../utils/eventProxy';\r\n\r\nclass CollapseItem extends Component {\r\n\r\n    // 构造函数\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        let { className, children, header, active, Itemclick, show, ...other } = this.props;\r\n        let cName = ['mt-collapse-item'];\r\n        if (className) {\r\n            cName.push(className);\r\n        }\r\n        if (active) {\r\n            cName.push('mt-collapse-active');\r\n        }\r\n        return (\r\n            <div {...other} className={cName.join(' ')}>\r\n                <div onClick={this.props.Itemclick.bind(this)} className=\"mt-collapse-header\">\r\n                    <i className=\"iconfont icon-arrowr\"></i>\r\n                    {header}\r\n                </div>\r\n                <div className=\"mt-collapse-content\">\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Collapse extends Component {\r\n    static defaultProps = {\r\n        only: false //\r\n    }\r\n\r\n    // 构造函数\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            active: []\r\n        };\r\n    }\r\n\r\n    componentWillMount() {\r\n        let self = this;\r\n        let arr = [];\r\n        this.props.children.map(function (elem, index) {\r\n            arr.push(elem.props.show);\r\n        });\r\n        this.setState({\r\n            active: arr\r\n        });\r\n    }\r\n\r\n    // 设置显示\r\n    showOnlyItem(index) {\r\n        let child = this.props.children;\r\n        for (let i = 0; i < child.length; i++) {\r\n            let active;\r\n            if (index === i) {\r\n                active = true;\r\n            } else {\r\n                active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    Itemclick(index) {\r\n        // return index;\r\n        let arr = this.state.active;\r\n\r\n        // 只显示其中一个\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (i === index) {\r\n                arr[i] = !arr[i];\r\n            } else {\r\n                if (this.props.only) {\r\n                    arr[i] = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            active: arr\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let self = this;\r\n        let { className, children, only, ...other } = this.props;\r\n        let cName = ['mt-collapse'];\r\n        if (className) {\r\n            cName.push(className);\r\n        }\r\n        let tmp = new Date().getTime();\r\n        return (\r\n            <div {...other} className={cName.join(' ')}>\r\n                {\r\n                    children.map(function (elem, index) {\r\n                        let { children, ...other } = elem.props;\r\n                        return <CollapseItem\r\n                            active={self.state.active[index]}\r\n                            Itemclick={self.Itemclick.bind(self, index)} {...other}\r\n                            key={tmp + index}>\r\n                            {elem.props.children}\r\n                        </CollapseItem>;\r\n                    })\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nCollapse.CollapseItem = CollapseItem;\r\n\r\n// 主页\r\nexport default Collapse;"]}