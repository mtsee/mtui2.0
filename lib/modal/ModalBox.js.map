{"version":3,"sources":["../../dev/mtui/modal/ModalBox.jsx"],"names":["ModalBox","props","state","show","className","timer","showOrHide","setState","nextProps","nextState","setTimeout","clearTimeout","style","height","width","marginLeft","marginTop","cName","push","join","mid","display","zIndex","closeModal","bind","children"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;AACA;;;;AACA;;;;;;IAEMA,Q;;;AAEF;AACA,sBAAaC,KAAb,EAAoB;AAAA;;AAAA,8IACVA,KADU;;AAEhB,cAAKC,KAAL,GAAa;AACTC,kBAAM,KADG;AAETC,uBAAW;AAFF,SAAb;AAIA,cAAKC,KAAL,GAAa,IAAb;AANgB;AAOnB;;;;qCAEW;AACR,iBAAKJ,KAAL,CAAWK,UAAX,CAAsB,IAAtB;AACH;;;6CAEoB;AACjB,iBAAKC,QAAL,CAAc;AACVJ,sBAAM,KAAKF,KAAL,CAAWE,IADP;AAEVC,2BAAW,qBAAqB,KAAKH,KAAL,CAAWG;AAFjC,aAAd;AAIH;;AAED;;;;4CACoBI,S,EAAWC,S,EAAW;AAAA;;AACtC,gBAAID,UAAUL,IAAV,KAAmB,KAAKF,KAAL,CAAWE,IAAlC,EAAyC;AACrC,oBAAIK,UAAUL,IAAd,EAAoB;AAChB,yBAAKI,QAAL,CAAc;AACVH,mCAAW,qBAAqBI,UAAUJ,SADhC;AAEVD,8BAAMK,UAAUL;AAFN,qBAAd;AAIH,iBALD,MAKM;AACF,yBAAKI,QAAL,CAAc;AACVH,mCAAW,sBAAsBI,UAAUJ;AADjC,qBAAd;AAGA,yBAAKC,KAAL,GAAaK,WAAY,YAAM;AAC3B,+BAAKH,QAAL,CAAc;AACVJ,kCAAMK,UAAUL;AADN,yBAAd;AAGH,qBAJY,EAIV,GAJU,CAAb;AAKH;AACJ;AACJ;;;+CAEsB;AACnBQ,yBAAa,KAAKN,KAAlB;AACH;;;iCAEO;AAAA,+BACkB,KAAKJ,KAAL,CAAWW,KAD7B;AAAA,gBACCC,MADD,gBACCA,MADD;AAAA,gBACSC,KADT,gBACSA,KADT;;AAEJ,gBAAIF,QAAQ,sBAAO,CAAC;AAChBG,4BAAY,EAAGD,SAAS,GAAZ,IAAmB,CADf;AAEhBE,2BAAW,EAAGH,UAAU,GAAb,IAAoB;AAFf,aAAD,EAGhB,KAAKZ,KAAL,CAAWW,KAAX,IAAoB,EAHJ,CAAP,CAAZ;;AAKA,gBAAIK,QAAQ,CAAC,UAAD,CAAZ;AACA,gBAAG,KAAKhB,KAAL,CAAWG,SAAd,EAAyB;AACrBa,sBAAMC,IAAN,CAAW,KAAKjB,KAAL,CAAWG,SAAtB;AACH;;AAED,mBAAO;AAAA;AAAA,kBAAK,WAAWa,MAAME,IAAN,CAAW,GAAX,CAAhB,EAAiC,IAAI,KAAKlB,KAAL,CAAWmB,GAAhD;AACK,2BAAO;AACHC,iCAAS,KAAKnB,KAAL,CAAWC,IAAX,GAAkB,OAAlB,GAA4B,MADlC;AAEHmB,gCAAQ,KAAKrB,KAAL,CAAWqB,MAAX,IAAqB,IAF1B,EADZ;AAKK;AAAA;AAAA,sBAAK,WAAW,kBAAkB,KAAKpB,KAAL,CAAWE,SAA7C,EAAwD,OAAOQ,KAA/D;AACI;AAAA;AAAA,0BAAG,WAAU,gBAAb,EAA8B,SAAS,KAAKW,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAvC;AAAmE,6DAAG,WAAU,qBAAb;AAAnE,qBADJ;AAEK,yBAAKvB,KAAL,CAAWwB;AAFhB;AALL,aAAP;AAUH;;;;;AAGL;;;eACezB,Q;;;;;;;;;kCA1ETA,Q","file":"ModalBox.js","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport assign from '../utils/assign';\r\n\r\nclass ModalBox extends Component {\r\n\r\n    // 构造函数\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            show: false,\r\n            className: ''\r\n        };\r\n        this.timer = null;\r\n    }\r\n\r\n    closeModal(){\r\n        this.props.showOrHide(true);\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.setState({\r\n            show: this.props.show,\r\n            className: 'animated zoomIn ' + this.props.className\r\n        });\r\n    }\r\n\r\n    // 开启关闭动画\r\n    componentWillUpdate(nextProps, nextState) {\r\n        if( nextProps.show !== this.props.show ) {\r\n            if( nextProps.show ){\r\n                this.setState({\r\n                    className: 'animated zoomIn ' + nextProps.className,\r\n                    show: nextProps.show\r\n                });\r\n            }else {\r\n                this.setState({\r\n                    className: 'animated zoomOut ' + nextProps.className\r\n                });\r\n                this.timer = setTimeout( () => {\r\n                    this.setState({\r\n                        show: nextProps.show\r\n                    });\r\n                }, 600);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timer);\r\n    }\r\n\r\n    render(){\r\n        var {height, width} = this.props.style;\r\n        var style = assign([{\r\n            marginLeft: - (width || 600) / 2,\r\n            marginTop: - (height || 400) / 2\r\n        }, this.props.style || {}]);\r\n\r\n        let cName = ['mt-modal'];\r\n        if(this.props.className) {\r\n            cName.push(this.props.className);\r\n        }\r\n        \r\n        return <div className={cName.join(' ')} id={this.props.mid} \r\n                    style={{\r\n                        display: this.state.show ? 'block' : 'none', \r\n                        zIndex: this.props.zIndex || 1000 }\r\n                    }>\r\n                    <div className={'mt-modal-box ' + this.state.className} style={style}>\r\n                        <a className=\"mt-modal-close\" onClick={this.closeModal.bind(this)}><i className=\"iconfont icon-close\"></i></a>\r\n                        {this.props.children}\r\n                    </div>\r\n               </div>;\r\n    }\r\n}\r\n\r\n// 主页\r\nexport default ModalBox;"]}